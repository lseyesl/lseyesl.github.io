<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8"utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg"
    />
    <link rel="stylesheet" href="../umi.css" tppabs="https://umijs.org/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.3
    </script>
    <title>&#x63D2;&#x4EF6;&#x5F00;&#x53D1;</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="../index.htm" tppabs="https://umijs.org/">UmiJS</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="../docs.htm" tppabs="https://umijs.org/docs">Docs</a><a href="../config.htm" tppabs="https://umijs.org/config">Config</a><a href="../api.htm" tppabs="https://umijs.org/api">API</a><a aria-current="page" class="active" href="../guide.htm" tppabs="https://umijs.org/guide">Guide</a><a href="../plugins.htm" tppabs="https://umijs.org/plugins">Plugins</a><a target="_blank" href="javascript:if(confirm('https://v2.umijs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v2.umijs.org/'" tppabs="https://v2.umijs.org/">v2.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi'" tppabs="https://github.com/umijs/umi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><div class="__dumi-default-locale-select" data-locale-count="2"><span>ä¸­æ–‡</span></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="../index.htm" tppabs="https://umijs.org/"></a><h1>UmiJS</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="../docs.htm" tppabs="https://umijs.org/docs">Docs</a></li><li><a href="../config.htm" tppabs="https://umijs.org/config">Config</a></li><li><a href="../api.htm" tppabs="https://umijs.org/api">API</a></li><li><a aria-current="page" class="active" href="../guide.htm" tppabs="https://umijs.org/guide">Guide</a></li><li><a href="../plugins.htm" tppabs="https://umijs.org/plugins">Plugins</a></li><li><a target="_blank" href="javascript:if(confirm('https://v2.umijs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v2.umijs.org/'" tppabs="https://v2.umijs.org/">v2.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi'" tppabs="https://github.com/umijs/umi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-locale-select" data-locale-count="2"><span>ä¸­æ–‡</span></div></div><ul class="__dumi-default-menu-list"><li><a href="boost-compile-speed.htm" tppabs="https://umijs.org/guide/boost-compile-speed">å¦‚ä½•åšç¼–è¯‘æé€Ÿ</a></li><li><a aria-current="page" class="active" href="plugin-develop.htm" tppabs="https://umijs.org/guide/plugin-develop">æ’ä»¶å¼€å‘</a></li><li><a href="upgrade-antd-pro-to-umi-3.htm" tppabs="https://umijs.org/guide/upgrade-antd-pro-to-umi-3">Upgrade Antd Pro to Umi 3</a></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="æ’ä»¶ç¤ºä¾‹" data-depth="2" class=""><a href="plugin-develop.htm#æ’ä»¶ç¤ºä¾‹" tppabs="https://umijs.org/guide/plugin-develop#æ’ä»¶ç¤ºä¾‹"><span>æ’ä»¶ç¤ºä¾‹</span></a></li><li title="éœ€æ±‚" data-depth="3" class=""><a href="plugin-develop.htm#éœ€æ±‚" tppabs="https://umijs.org/guide/plugin-develop#éœ€æ±‚"><span>éœ€æ±‚</span></a></li><li title="åˆå§‹åŒ–æ’ä»¶" data-depth="3" class=""><a href="plugin-develop.htm#åˆå§‹åŒ–æ’ä»¶" tppabs="https://umijs.org/guide/plugin-develop#åˆå§‹åŒ–æ’ä»¶"><span>åˆå§‹åŒ–æ’ä»¶</span></a></li><li title="å®‰è£… node æ¨¡å—" data-depth="3" class=""><a href="plugin-develop.htm#å®‰è£…-node-æ¨¡å—" tppabs="https://umijs.org/guide/plugin-develop#å®‰è£…-node-æ¨¡å—"><span>å®‰è£… node æ¨¡å—</span></a></li><li title="Umi@3 æ’ä»¶å‘½åç‰¹æ€§" data-depth="3" class=""><a href="plugin-develop.htm#umi3-æ’ä»¶å‘½åç‰¹æ€§" tppabs="https://umijs.org/guide/plugin-develop#umi3-æ’ä»¶å‘½åç‰¹æ€§"><span>Umi@3 æ’ä»¶å‘½åç‰¹æ€§</span></a></li><li title="å®æˆ˜æ¼”ç»ƒ" data-depth="3" class=""><a href="plugin-develop.htm#å®æˆ˜æ¼”ç»ƒ" tppabs="https://umijs.org/guide/plugin-develop#å®æˆ˜æ¼”ç»ƒ"><span>å®æˆ˜æ¼”ç»ƒ</span></a></li><li title="ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•" data-depth="3" class=""><a href="plugin-develop.htm#ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•" tppabs="https://umijs.org/guide/plugin-develop#ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•"><span>ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•</span></a></li></ul><div class="__dumi-default-layout-content"><div class="__dumi-default-alert">This article has not been translated yet. Want to help us out? Click the Edit this doc on GitHub at the end of the page.</div><div class="markdown"><h1 id="æ’ä»¶å¼€å‘"><a aria-hidden="true" href="#æ’ä»¶å¼€å‘"><span class="icon icon-link"></span></a>æ’ä»¶å¼€å‘</h1><p>åœ¨ Umi ä¸­ï¼Œæ’ä»¶å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª JS æ¨¡å—ï¼Œä½ éœ€è¦å®šä¹‰ä¸€ä¸ªæ’ä»¶çš„åˆå§‹åŒ–æ–¹æ³•å¹¶é»˜è®¤å¯¼å‡ºã€‚å¦‚ä¸‹ç¤ºä¾‹ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="export default (api) =&gt; {
  // your plugin code here
};
" data-status="copy"></button><div class="token-line"><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// your plugin code here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ çš„æ’ä»¶éœ€è¦å‘å¸ƒä¸º npm åŒ…ï¼Œé‚£ä¹ˆä½ éœ€è¦å‘å¸ƒä¹‹å‰åšç¼–è¯‘ï¼Œç¡®ä¿å‘å¸ƒçš„ä»£ç é‡Œé¢æ˜¯ ES5 çš„ä»£ç ã€‚</p><p>è¯¥åˆå§‹åŒ–æ–¹æ³•ä¼šæ”¶åˆ° <code>api</code> å‚æ•°ï¼ŒUmi æä¾›ç»™æ’ä»¶çš„æ¥å£éƒ½æ˜¯é€šè¿‡å®ƒæš´éœ²å‡ºæ¥çš„ã€‚</p><h2 id="æ’ä»¶ç¤ºä¾‹"><a aria-hidden="true" href="#æ’ä»¶ç¤ºä¾‹"><span class="icon icon-link"></span></a>æ’ä»¶ç¤ºä¾‹</h2><p>ä»¥ä¸‹æˆ‘ä»¬é€šè¿‡å®Œæˆä¸€ä¸ªç®€å•çš„éœ€æ±‚ï¼Œæ¥è¿›ä¸€æ­¥äº†è§£ Umi çš„æ’ä»¶å¼€å‘</p><h3 id="éœ€æ±‚"><a aria-hidden="true" href="#éœ€æ±‚"><span class="icon icon-link"></span></a>éœ€æ±‚</h3><p>Umi çº¦å®šå¼è·¯ç”±ä¸­çš„è¡¨ç°æ˜¯ä¸»è·¯ç”±ï¼Œå¯¹åº”åˆ° <code>index</code> è·¯ç”±ï¼Œå³è®¿é—® <code>http://localhost:8000</code> å®é™…ä¸Šè®¿é—®åˆ°çš„é¡µé¢æ˜¯ <code>src/pages/index</code>ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°ï¼Œå¸Œæœ›ä¿®æ”¹ä¸»è·¯ç”±çš„æƒ…å†µï¼Œæ¯”å¦‚å¸Œæœ›è·¯ç”± <code>/</code> è®¿é—®çš„æ˜¯ <code>src/pages/home</code>ã€‚</p><h3 id="åˆå§‹åŒ–æ’ä»¶"><a aria-hidden="true" href="#åˆå§‹åŒ–æ’ä»¶"><span class="icon icon-link"></span></a>åˆå§‹åŒ–æ’ä»¶</h3><p>ä½ å¯ä»¥é€šè¿‡ <a href="javascript:if(confirm('https://github.com/umijs/create-umi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/create-umi'" tppabs="https://github.com/umijs/create-umi" target="_blank">create-umi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ç›´æ¥åˆ›å»ºä¸€ä¸ª Umi æ’ä»¶çš„è„šæ‰‹æ¶ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="yarn create umi --plugin
? Select the boilerplate type plugin
? What&#x27;s the plugin name? umi-plugin-main-path
? What&#x27;s your plugin used for? config umi main path
? What&#x27;s your email? 448627663@qq.com
? What&#x27;s your name? xiaohuoni
? Which organization is your plugin stored under github? alitajs
? Select the development language TypeScript
? Does your plugin have ui interaction(umi ui)? No
   create package.json
   create .editorconfig
   create .fatherrc.ts
   create .gitignore
   create .prettierignore
   create .prettierrc
   create CONTRIBUTING.md
   create example/.gitignore
   create example/.umirc.ts
   create example/app.jsx
   create example/app.tsx
   create example/package.json
   create example/pages/index.css
   create example/pages/index.jsx
   create example/pages/index.tsx
   create example/tsconfig.json
   create example/typing.d.ts
   create README.md
   create src/index.ts
   create test/fixtures/normal/pages/index.css
   create tsconfig.json
âœ¨ File Generate Done
" data-status="copy"></button><div class="token-line"><span class="token function">yarn</span><span class="token plain"> create umi --plugin</span></div><div class="token-line"><span class="token plain">? Select the boilerplate </span><span class="token builtin class-name">type</span><span class="token plain"> plugin</span></div><div class="token-line"><span class="token plain">? What</span><span class="token string">&#x27;s the plugin name? umi-plugin-main-path</span></div><div class="token-line"><span class="token string">? What&#x27;</span><span class="token plain">s your plugin used for? config umi main path</span></div><div class="token-line"><span class="token plain">? What</span><span class="token string">&#x27;s your email? 448627663@qq.com</span></div><div class="token-line"><span class="token string">? What&#x27;</span><span class="token plain">s your name? xiaohuoni</span></div><div class="token-line"><span class="token plain">? Which organization is your plugin stored under github? alitajs</span></div><div class="token-line"><span class="token plain">? Select the development language TypeScript</span></div><div class="token-line"><span class="token plain">? Does your plugin have ui interaction</span><span class="token punctuation">(</span><span class="token plain">umi ui</span><span class="token punctuation">)</span><span class="token plain">? No</span></div><div class="token-line"><span class="token plain">   create package.json</span></div><div class="token-line"><span class="token plain">   create .editorconfig</span></div><div class="token-line"><span class="token plain">   create .fatherrc.ts</span></div><div class="token-line"><span class="token plain">   create .gitignore</span></div><div class="token-line"><span class="token plain">   create .prettierignore</span></div><div class="token-line"><span class="token plain">   create .prettierrc</span></div><div class="token-line"><span class="token plain">   create CONTRIBUTING.md</span></div><div class="token-line"><span class="token plain">   create example/.gitignore</span></div><div class="token-line"><span class="token plain">   create example/.umirc.ts</span></div><div class="token-line"><span class="token plain">   create example/app.jsx</span></div><div class="token-line"><span class="token plain">   create example/app.tsx</span></div><div class="token-line"><span class="token plain">   create example/package.json</span></div><div class="token-line"><span class="token plain">   create example/pages/index.css</span></div><div class="token-line"><span class="token plain">   create example/pages/index.jsx</span></div><div class="token-line"><span class="token plain">   create example/pages/index.tsx</span></div><div class="token-line"><span class="token plain">   create example/tsconfig.json</span></div><div class="token-line"><span class="token plain">   create example/typing.d.ts</span></div><div class="token-line"><span class="token plain">   create README.md</span></div><div class="token-line"><span class="token plain">   create src/index.ts</span></div><div class="token-line"><span class="token plain">   create test/fixtures/normal/pages/index.css</span></div><div class="token-line"><span class="token plain">   create tsconfig.json</span></div><div class="token-line"><span class="token plain">âœ¨ File Generate Done</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="å®‰è£…-node-æ¨¡å—"><a aria-hidden="true" href="#å®‰è£…-node-æ¨¡å—"><span class="icon icon-link"></span></a>å®‰è£… node æ¨¡å—</h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="$ yarn
" data-status="copy"></button><div class="token-line"><span class="token plain">$ </span><span class="token function">yarn</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><blockquote><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ npm install ï¼Œå› ä¸ºæœ‰ç¼–å†™æµ‹è¯•ï¼Œæ‰€ä»¥å®‰è£…äº† puppeteeï¼Œå¦‚æœä½ å®‰è£…å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œæˆ–è€…ä½¿ç”¨æ·˜å®æºã€‚</p></blockquote><h3 id="umi3-æ’ä»¶å‘½åç‰¹æ€§"><a aria-hidden="true" href="#umi3-æ’ä»¶å‘½åç‰¹æ€§"><span class="icon icon-link"></span></a>Umi@3 æ’ä»¶å‘½åç‰¹æ€§</h3><p>åœ¨ Umi@3 ä¸­ï¼Œå½“æ’ä»¶ä½¿ç”¨ <code>@umijs</code> æˆ–è€… <code>umi-plugin</code> å¼€å¤´ï¼Œåªè¦å®‰è£…å°±ä¼šè¢«é»˜è®¤ä½¿ç”¨ï¼Œæ‰€ä»¥å¦‚æœä½ çš„æ’ä»¶åä»¥ä¸Šè¿°è§„åˆ™å‘½åï¼Œä½ å°±ä¸éœ€è¦åœ¨ config æ–‡ä»¶ä¸­æ˜¾å¼ä½¿ç”¨ä½ çš„æ’ä»¶ï¼Œå¦‚æœä½ çš„æ’ä»¶å‘½åä¸æ»¡è¶³ä¸Šè¿°è§„åˆ™ï¼Œé‚£ä½ åªéœ€è¦åœ¨ config ä¸­æ˜¾ç¤ºä½¿ç”¨å³å¯ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import { defineConfig } from &#x27;umi&#x27;;

export default defineConfig({
  plugins: [&#x27;you-plugin-name&#x27;],
});
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> defineConfig </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;you-plugin-name&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><blockquote><p>æ­¤æ¬¡ç¤ºä¾‹ä¸­æˆ‘ä»¬çš„æ’ä»¶åæ˜¯ umi-plugin-main-path ã€‚</p></blockquote><h3 id="å®æˆ˜æ¼”ç»ƒ"><a aria-hidden="true" href="#å®æˆ˜æ¼”ç»ƒ"><span class="icon icon-link"></span></a>å®æˆ˜æ¼”ç»ƒ</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ï¼Œåˆå§‹åŒ–è„šæ‰‹æ¶ä¸­çš„ä»£ç ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å°æ—¥å¿— <code>use plugin</code>ï¼Œç„¶åä½¿ç”¨ <code>modifyHTML</code> api åœ¨ <code>body</code> ä¸Šæ·»åŠ äº† <code>h1</code> çš„å†…å®¹ã€‚æ›´å¤šæ’ä»¶ api ï¼Œè¯·æŸ¥é˜…<a href="../plugins/api.htm" tppabs="https://umijs.org/plugins/api">Plugins Api</a>ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="export default function (api: IApi) {
  api.logger.info(&#x27;use plugin&#x27;);

  api.modifyHTML(($) =&gt; {
    $(&#x27;body&#x27;).prepend(`&lt;h1&gt;hello umi plugin&lt;/h1&gt;`);
    return $;
  });

}
" data-status="copy"></button><div class="token-line"><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">api</span><span class="token parameter punctuation">:</span><span class="token parameter"> IApi</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token property-access">logger</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">&#x27;use plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token method function property-access">modifyHTML</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#x27;body&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">prepend</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">&lt;h1&gt;hello umi plugin&lt;/h1&gt;</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">return</span><span class="token plain"> $</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ä¸ºæˆ‘ä»¬çš„æ’ä»¶å¢åŠ ä¸€ä¸ªé…ç½®ï¼Œä½¿ç”¨ <a href="../plugins/api.htm#describe-id-string-key-string-config--default-schema-onchange--" tppabs="https://umijs.org/plugins/api#describe-id-string-key-string-config--default-schema-onchange--">describe</a> æ³¨å†Œé…ç½®ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="  api.describe({
    key: &#x27;mainPath&#x27;,
    config: {
      schema(joi) {
        return joi.string();
      },
    },
  });
" data-status="copy"></button><div class="token-line"><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token method function property-access">describe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    key</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;mainPath&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    config</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function">schema</span><span class="token punctuation">(</span><span class="token parameter">joi</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> joi</span><span class="token punctuation">.</span><span class="token method function property-access">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>å¢åŠ æˆ‘ä»¬æ’ä»¶çš„ä¸»é€»è¾‘</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="  if (api.userConfig.mainPath) {
    api.modifyRoutes((routes: any[]) =&gt; {
      return resetMainPath(routes, api.config.mainPath);
    });
  }
" data-status="copy"></button><div class="token-line"><span class="token plain">  </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">api</span><span class="token punctuation">.</span><span class="token property-access">userConfig</span><span class="token punctuation">.</span><span class="token property-access">mainPath</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    api</span><span class="token punctuation">.</span><span class="token method function property-access">modifyRoutes</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">routes</span><span class="token parameter punctuation">:</span><span class="token parameter"> any</span><span class="token parameter punctuation">[</span><span class="token parameter punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token function">resetMainPath</span><span class="token punctuation">(</span><span class="token plain">routes</span><span class="token punctuation">,</span><span class="token plain"> api</span><span class="token punctuation">.</span><span class="token property-access">config</span><span class="token punctuation">.</span><span class="token property-access">mainPath</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><blockquote><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨åˆ¤æ–­æ—¶å–çš„æ˜¯ api.userConfigï¼Œè€Œåœ¨ api çš„å›è°ƒä¸­ä½¿ç”¨çš„æ˜¯ api.configï¼Œä½ å¯ä»¥ç†è§£ä¸º api.userConfig æ˜¯é…ç½®ä¸­çš„å€¼ï¼Œ api.config æ˜¯æ’ä»¶ä¿®æ”¹åçš„å€¼ï¼Œè¿™é‡Œå¯ä»¥æ˜¯ä»»æ„æ’ä»¶ä¿®æ”¹ã€‚</p></blockquote><p>åœ¨æ¼”ç¤ºä¸­ä½¿ç”¨æˆ‘ä»¬çš„æ’ä»¶ï¼š</p><p>åœ¨ <code>example/.umirc.ts</code> ä¸­å¢åŠ é…ç½®</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import { defineConfig } from &#x27;umi&#x27;;

export default defineConfig({
  plugins: [require.resolve(&#x27;../lib&#x27;)],
  mainPath:&#x27;/home&#x27;
});
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> defineConfig </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;../lib&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  mainPath</span><span class="token punctuation">:</span><span class="token string">&#x27;/home&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æ–°å»º page é¡µé¢ï¼Œæ–°å»º <code>example/pages/home.tsx</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-tsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import React from &#x27;react&#x27;;
import styles from &#x27;./index.css&#x27;;

export default () =&gt; (
  &lt;div className={styles.normal}&gt;
    &lt;h2&gt;Home Page!&lt;/h2&gt;
  &lt;/div&gt;
);
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> styles </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./index.css&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">className</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">styles</span><span class="token tag script language-javascript punctuation">.</span><span class="token tag script language-javascript">normal</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">h2</span><span class="token tag punctuation">&gt;</span><span class="token maybe-class-name">Home</span><span class="token plain"> </span><span class="token maybe-class-name">Page</span><span class="token operator">!</span><span class="token tag punctuation">&lt;/</span><span class="token tag">h2</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æŸ¥çœ‹æ•ˆæœ</p><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="yarn start
Starting the development server...

âœ” Webpack
  Compiled successfully in 20.73s

  App running at:
  - Local:   http://localhost:8000 (copied to clipboard)
  - Network: http://192.168.50.236:8000
" data-status="copy"></button><div class="token-line"><span class="token function">yarn</span><span class="token plain"> start</span></div><div class="token-line"><span class="token plain">Starting the development server</span><span class="token punctuation">..</span><span class="token plain">.</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">âœ” Webpack</span></div><div class="token-line"><span class="token plain">  Compiled successfully </span><span class="token keyword">in</span><span class="token plain"> </span><span class="token number">20</span><span class="token plain">.73s</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  App running at:</span></div><div class="token-line"><span class="token plain">  - Local:   http://localhost:8000 </span><span class="token punctuation">(</span><span class="token plain">copied to clipboard</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  - Network: http://192.168.50.236:8000</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æµè§ˆå™¨è®¿é—® <code>http://localhost:8000</code> å°±å¯ä»¥è®¿é—®åˆ° <code>home</code> ï¼Œè¦è®¿é—®ä¹‹å‰çš„ <code>index</code> é¡µé¢ï¼Œè¦é€šè¿‡ <code>http://localhost:8000/index</code>ã€‚</p><h3 id="ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•"><a aria-hidden="true" href="#ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•"><span class="icon icon-link"></span></a>ä¸ºæ’ä»¶ç¼–å†™æµ‹è¯•</h3><p>ä¸€èˆ¬ Umi æ’ä»¶çš„æµ‹è¯•ï¼Œæˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨ç»“æœæµ‹è¯•çš„æ–¹æ¡ˆï¼Œåªçœ‹æœ€ç»ˆè¿è¡Œæ•ˆæœã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ <a href="javascript:if(confirm('https://github.com/umijs/test-umi-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/test-umi-plugin'" tppabs="https://github.com/umijs/test-umi-plugin" target="_blank"><code>test-umi-plugin</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå®ƒä¹Ÿæœ‰ä¸€å®šçš„çº¦å®šï¼ŒæŒ‡å®š <code>fixtures</code> ä¹‹åï¼Œä»–ä¼šè‡ªåŠ¨æ‰§è¡Œæ–‡ä»¶å¤¹ä¸‹çš„ test æ–‡ä»¶ã€‚</p><p>åœ¨ <code>test/fixtures/normal/.umirc.ts</code> ä¸­å¢åŠ é…ç½®</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="export default {
  plugins: [require.resolve(&#x27;../../../lib&#x27;)],
  mainPath: &#x27;/home&#x27;
}
" data-status="copy"></button><div class="token-line"><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;../../../lib&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  mainPath</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;/home&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æ–°å»º page é¡µé¢ï¼Œæ–°å»º <code>test/fixtures/normal/pages/home.tsx</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-tsx"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import React from &#x27;react&#x27;;
import styles from &#x27;./index.css&#x27;;

export default () =&gt; (
  &lt;div className={styles.normal}&gt;
    &lt;h2&gt;Home Page!&lt;/h2&gt;
  &lt;/div&gt;
);
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> styles </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./index.css&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">className</span><span class="token tag script language-javascript script-punctuation punctuation">=</span><span class="token tag script language-javascript punctuation">{</span><span class="token tag script language-javascript">styles</span><span class="token tag script language-javascript punctuation">.</span><span class="token tag script language-javascript">normal</span><span class="token tag script language-javascript punctuation">}</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token tag punctuation">&lt;</span><span class="token tag">h2</span><span class="token tag punctuation">&gt;</span><span class="token maybe-class-name">Home</span><span class="token plain"> </span><span class="token maybe-class-name">Page</span><span class="token operator">!</span><span class="token tag punctuation">&lt;/</span><span class="token tag">h2</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ <code>test/fixtures/normal/test.ts</code></p><div class="__dumi-default-code-block"><pre class="prism-code language-diff"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="export default async function ({ page, host }) {
  await page.goto(`${host}/`, {
    waitUntil: &#x27;networkidle2&#x27;,
  });
  const text = await page.evaluate(
    () =&gt; document.querySelector(&#x27;h1&#x27;).innerHTML,
  );
  expect(text).toEqual(&#x27;Home Page&#x27;);
};
" data-status="copy"></button><div class="token-line"><span class="token plain">export default async function ({ page, host }) {</span></div><div class="token-line"><span class="token plain"></span><span class="token unchanged">  await page.goto(`${host}/`, {</span></div><div class="token-line"><span class="token unchanged">    waitUntil: &#x27;networkidle2&#x27;,</span></div><div class="token-line"><span class="token unchanged">  });</span></div><div class="token-line"><span class="token unchanged">  const text = await page.evaluate(</span></div><div class="token-line"><span class="token unchanged">    () =&gt; document.querySelector(&#x27;h1&#x27;).innerHTML,</span></div><div class="token-line"><span class="token unchanged">  );</span></div><div class="token-line"><span class="token unchanged">  expect(text).toEqual(&#x27;Home Page&#x27;);</span></div><div class="token-line"><span class="token unchanged"></span><span class="token plain">};</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æ‰§è¡Œæµ‹è¯•</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="$ yarn test
$ umi-test
  console.log
    [normal] Running at http://localhost:12401

 PASS  test/index.e2e.ts (10.219s)
  âœ“ normal (1762ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        11.057s
Ran all test suites.
âœ¨  Done in 14.01s.
" data-status="copy"></button><div class="token-line"><span class="token plain">$ yarn test</span></div><div class="token-line"><span class="token plain">$ umi-test</span></div><div class="token-line"><span class="token plain">  console.log</span></div><div class="token-line"><span class="token plain">    [normal] Running at http://localhost:12401</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"> PASS  test/index.e2e.ts (10.219s)</span></div><div class="token-line"><span class="token plain">  âœ“ normal (1762ms)</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">Test Suites: 1 passed, 1 total</span></div><div class="token-line"><span class="token plain">Tests:       1 passed, 1 total</span></div><div class="token-line"><span class="token plain">Snapshots:   0 total</span></div><div class="token-line"><span class="token plain">Time:        11.057s</span></div><div class="token-line"><span class="token plain">Ran all test suites.</span></div><div class="token-line"><span class="token plain">âœ¨  Done in 14.01s.</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æœ¬æ¬¡ç¤ºä¾‹çš„å®Œæ•´ä»£ç åœ¨ <a href="javascript:if(confirm('https://github.com/alitajs/umi-plugin-main-path  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/alitajs/umi-plugin-main-path'" tppabs="https://github.com/alitajs/umi-plugin-main-path" target="_blank">umi-plugin-main-path<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi/edit/master/docs/guide/plugin-develop.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi/edit/master/docs/guide/plugin-develop.md'" tppabs="https://github.com/umijs/umi/edit/master/docs/guide/plugin-develop.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">6/10/2020, 7:42:23 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "../../www.google-analytics.com/analytics.js"/*tpa=https://www.google-analytics.com/analytics.js*/,
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="../umi.js" tppabs="https://umijs.org/umi.js"></script>
  </body>
</html>
