<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8"utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg"
    />
    <link rel="stylesheet" href="../../umi.css" tppabs="https://umijs.org/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.3
    </script>
    <title>&#x5347;&#x7EA7; antd pro &#x9879;&#x76EE;&#x5230; umi@3</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="../../zh-CN.htm" tppabs="https://umijs.org/zh-CN">UmiJS</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="../docs.htm" tppabs="https://umijs.org/zh-CN/docs">æ–‡æ¡£</a><a href="../config.htm" tppabs="https://umijs.org/zh-CN/config">é…ç½®</a><a href="../api.htm" tppabs="https://umijs.org/zh-CN/api">API</a><a aria-current="page" class="active" href="../guide.htm" tppabs="https://umijs.org/zh-CN/guide">æŒ‡å—</a><a href="../plugins.htm" tppabs="https://umijs.org/zh-CN/plugins">æ’ä»¶</a><a target="_blank" href="javascript:if(confirm('https://v2.umijs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v2.umijs.org/'" tppabs="https://v2.umijs.org/">v2.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi'" tppabs="https://github.com/umijs/umi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><div class="__dumi-default-locale-select" data-locale-count="2"><span>English</span></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="../../zh-CN.htm" tppabs="https://umijs.org/zh-CN"></a><h1>UmiJS</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="../docs.htm" tppabs="https://umijs.org/zh-CN/docs">æ–‡æ¡£</a></li><li><a href="../config.htm" tppabs="https://umijs.org/zh-CN/config">é…ç½®</a></li><li><a href="../api.htm" tppabs="https://umijs.org/zh-CN/api">API</a></li><li><a aria-current="page" class="active" href="../guide.htm" tppabs="https://umijs.org/zh-CN/guide">æŒ‡å—</a></li><li><a href="../plugins.htm" tppabs="https://umijs.org/zh-CN/plugins">æ’ä»¶</a></li><li><a target="_blank" href="javascript:if(confirm('https://v2.umijs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v2.umijs.org/'" tppabs="https://v2.umijs.org/">v2.x<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi'" tppabs="https://github.com/umijs/umi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-locale-select" data-locale-count="2"><span>English</span></div></div><ul class="__dumi-default-menu-list"><li><a href="boost-compile-speed.htm" tppabs="https://umijs.org/zh-CN/guide/boost-compile-speed">å¦‚ä½•åšç¼–è¯‘æé€Ÿ</a></li><li><a href="plugin-develop.htm" tppabs="https://umijs.org/zh-CN/guide/plugin-develop">æ’ä»¶å¼€å‘</a></li><li><a aria-current="page" class="active" href="upgrade-antd-pro-to-umi-3.htm" tppabs="https://umijs.org/zh-CN/guide/upgrade-antd-pro-to-umi-3">å‡çº§ antd pro é¡¹ç›®åˆ° umi@3</a></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="ä¾èµ–å¤„ç†" data-depth="3" class=""><a href="upgrade-antd-pro-to-umi-3.htm#ä¾èµ–å¤„ç†" tppabs="https://umijs.org/zh-CN/guide/upgrade-antd-pro-to-umi-3#ä¾èµ–å¤„ç†"><span>ä¾èµ–å¤„ç†</span></a></li><li title="é…ç½®å±‚è¿ç§»" data-depth="3" class=""><a href="upgrade-antd-pro-to-umi-3.htm#é…ç½®å±‚è¿ç§»" tppabs="https://umijs.org/zh-CN/guide/upgrade-antd-pro-to-umi-3#é…ç½®å±‚è¿ç§»"><span>é…ç½®å±‚è¿ç§»</span></a></li><li title="ä»£ç å±‚ä¿®æ”¹" data-depth="3" class=""><a href="upgrade-antd-pro-to-umi-3.htm#ä»£ç å±‚ä¿®æ”¹" tppabs="https://umijs.org/zh-CN/guide/upgrade-antd-pro-to-umi-3#ä»£ç å±‚ä¿®æ”¹"><span>ä»£ç å±‚ä¿®æ”¹</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="å‡çº§-antd-pro-é¡¹ç›®åˆ°-umi3"><a aria-hidden="true" href="#å‡çº§-antd-pro-é¡¹ç›®åˆ°-umi3"><span class="icon icon-link"></span></a>å‡çº§ antd pro é¡¹ç›®åˆ° umi@3</h1><p>è¿ç§»åˆ° Umi 3 åˆ†ä¸‰æ­¥ï¼Œä¸åˆ° 10 åˆ†é’Ÿå³å¯å®Œæˆè¿ç§»ï¼š</p><ol><li><strong>ä¾èµ–å¤„ç†</strong></li><li><strong>é…ç½®å±‚è¿ç§»</strong></li><li><strong>ä»£ç å±‚ä¿®æ”¹</strong></li></ol><h3 id="ä¾èµ–å¤„ç†"><a aria-hidden="true" href="#ä¾èµ–å¤„ç†"><span class="icon icon-link"></span></a>ä¾èµ–å¤„ç†</h3><p>é¡¹ç›®çš„ <code>package.json</code> éœ€è¦å‡çº§ umiï¼Œå¹¶æ›¿æ¢æ‰å¯¹åº”çš„ umi æ’ä»¶ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-diff"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;dependencies&quot;: {
-   &quot;dva&quot;: &quot;^2.6.0-beta.16&quot;,
  },
  &quot;devDependencies&quot;: {
-   &quot;umi&quot;: &quot;^2.13.0&quot;,
-   &quot;umi-types&quot;: &quot;^0.5.9&quot;
-   &quot;umi-plugin-react&quot;: &quot;^1.14.10&quot;,
-   &quot;umi-plugin-ga&quot;: &quot;^1.1.3&quot;,
-   &quot;umi-plugin-pro&quot;: &quot;^1.0.2&quot;,
-   &quot;umi-plugin-antd-icon-config&quot;: &quot;^1.0.2&quot;,
-   &quot;umi-plugin-antd-theme&quot;: &quot;^1.0.1&quot;,
-   &quot;umi-plugin-pro-block&quot;: &quot;^1.3.2&quot;,
+   &quot;umi&quot;: &quot;^3.0.0&quot;,
+   &quot;@umijs/preset-react&quot;: &quot;^1.2.2&quot;
  }
}
" data-status="copy"></button><div class="token-line"><span class="token plain">{</span></div><div class="token-line"><span class="token plain"></span><span class="token unchanged">  &quot;dependencies&quot;: {</span></div><div class="token-line"><span class="token unchanged"></span><span class="token deleted-sign deleted">-   &quot;dva&quot;: &quot;^2.6.0-beta.16&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted"></span><span class="token unchanged">  },</span></div><div class="token-line"><span class="token unchanged">  &quot;devDependencies&quot;: {</span></div><div class="token-line"><span class="token unchanged"></span><span class="token deleted-sign deleted">-   &quot;umi&quot;: &quot;^2.13.0&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-types&quot;: &quot;^0.5.9&quot;</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-react&quot;: &quot;^1.14.10&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-ga&quot;: &quot;^1.1.3&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-pro&quot;: &quot;^1.0.2&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-antd-icon-config&quot;: &quot;^1.0.2&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-antd-theme&quot;: &quot;^1.0.1&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted">-   &quot;umi-plugin-pro-block&quot;: &quot;^1.3.2&quot;,</span></div><div class="token-line"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+   &quot;umi&quot;: &quot;^3.0.0&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted">+   &quot;@umijs/preset-react&quot;: &quot;^1.2.2&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted"></span><span class="token unchanged">  }</span></div><div class="token-line"><span class="token unchanged"></span><span class="token plain">}</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æ‰§è¡Œä¸‹ <code>npm install</code> é‡è£…ä¾èµ–ã€‚</p><h3 id="é…ç½®å±‚è¿ç§»"><a aria-hidden="true" href="#é…ç½®å±‚è¿ç§»"><span class="icon icon-link"></span></a>é…ç½®å±‚è¿ç§»</h3><p>æ ¹æ® <a href="../config.htm" tppabs="https://umijs.org/zh-CN/config">Umi 3 é…ç½®</a> ï¼Œæœ‰<strong>ä¿®æ”¹çš„é…ç½®é¡¹</strong>å¦‚ä¸‹ <code>config/config.ts</code> ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-typescript"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="import { defineConfig, utils } from &#x27;umi&#x27;;

const { winPath } = utils;

export default defineConfig({
  // é€šè¿‡ package.json è‡ªåŠ¨æŒ‚è½½ umi æ’ä»¶ï¼Œä¸éœ€å†æ¬¡æŒ‚è½½
  // plugins: [],
  antd: {},
  dva: {
    hmr: true,
  },
  locale: {
    default: &#x27;zh-CN&#x27;,
    baseNavigator: true,
  },
  dynamicImport: {
    // æ— éœ€ level, webpackChunkName é…ç½®
    // loadingComponent: &#x27;./components/PageLoading/index&#x27;
    loading: &#x27;@/components/PageLoading/index&#x27;,
  },
  // æš‚æ—¶å…³é—­
  pwa: false,
  lessLoader: { javascriptEnabled: true },
  cssLoader: {
    // è¿™é‡Œçš„ modules å¯ä»¥æ¥å— getLocalIdent
    modules: {
      getLocalIdent:(
        context: {
          resourcePath: string;
        },
        _: string,
        localName: string,
      ) =&gt; {
        if (
          context.resourcePath.includes(&#x27;node_modules&#x27;) ||
          context.resourcePath.includes(&#x27;ant.design.pro.less&#x27;) ||
          context.resourcePath.includes(&#x27;global.less&#x27;)
        ) {
          return localName;
        }
        const match = context.resourcePath.match(/src(.*)/);
        if (match &amp;&amp; match[1]) {
          const antdProPath = match[1].replace(&#x27;.less&#x27;, &#x27;&#x27;);
          const arr = winPath(antdProPath)
            .split(&#x27;/&#x27;)
            .map((a: string) =&gt; a.replace(/([A-Z])/g, &#x27;-$1&#x27;))
            .map((a: string) =&gt; a.toLowerCase());
          return `antd-pro${arr.join(&#x27;-&#x27;)}-${localName}`.replace(/--/g, &#x27;-&#x27;);
        }
        return localName;
      },
    }
  }
})
" data-status="copy"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> defineConfig</span><span class="token punctuation">,</span><span class="token plain"> utils </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> winPath </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> utils</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// é€šè¿‡ package.json è‡ªåŠ¨æŒ‚è½½ umi æ’ä»¶ï¼Œä¸éœ€å†æ¬¡æŒ‚è½½</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// plugins: [],</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  antd</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  dva</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    hmr</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  locale</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">default</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;zh-CN&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    baseNavigator</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  dynamicImport</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// æ— éœ€ level, webpackChunkName é…ç½®</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// loadingComponent: &#x27;./components/PageLoading/index&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    loading</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;@/components/PageLoading/index&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// æš‚æ—¶å…³é—­</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  pwa</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  lessLoader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> javascriptEnabled</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  cssLoader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// è¿™é‡Œçš„ modules å¯ä»¥æ¥å— getLocalIdent</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    modules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token function-variable function">getLocalIdent</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token parameter">context</span><span class="token parameter punctuation">:</span><span class="token parameter"> </span><span class="token parameter punctuation">{</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">          resourcePath</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">;</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">        </span><span class="token parameter punctuation">}</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">        _</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token parameter"></span></div><div class="token-line"><span class="token parameter">        localName</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token parameter punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          context</span><span class="token punctuation">.</span><span class="token property-access">resourcePath</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;node_modules&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          context</span><span class="token punctuation">.</span><span class="token property-access">resourcePath</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;ant.design.pro.less&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          context</span><span class="token punctuation">.</span><span class="token property-access">resourcePath</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;global.less&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token keyword">return</span><span class="token plain"> localName</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">const</span><span class="token plain"> match </span><span class="token operator">=</span><span class="token plain"> context</span><span class="token punctuation">.</span><span class="token property-access">resourcePath</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex">/src(.*)/</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">match </span><span class="token operator">&amp;&amp;</span><span class="token plain"> match</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token keyword">const</span><span class="token plain"> antdProPath </span><span class="token operator">=</span><span class="token plain"> match</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;.less&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token keyword">const</span><span class="token plain"> arr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">winPath</span><span class="token punctuation">(</span><span class="token plain">antdProPath</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/([A-Z])/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;-$1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token parameter punctuation">:</span><span class="token parameter"> string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> a</span><span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">antd-pro</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">arr</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation function">join</span><span class="token template-string interpolation punctuation">(</span><span class="token template-string interpolation string">&#x27;-&#x27;</span><span class="token template-string interpolation punctuation">)</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">-</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">localName</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/--/g</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">return</span><span class="token plain"> localName</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="ä»£ç å±‚ä¿®æ”¹"><a aria-hidden="true" href="#ä»£ç å±‚ä¿®æ”¹"><span class="icon icon-link"></span></a>ä»£ç å±‚ä¿®æ”¹</h3><p>Umi 3 å¢åŠ  <code>import from umi</code>ï¼Œå¸¸ç”¨çš„æ¨¡å—ã€å·¥å…·å¯ç›´æ¥ä» <code>umi</code> ä¸­å¯¼å…¥ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-diff"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="- import Link from &#x27;umi/link&#x27;;
- import { connect } from &#x27;dva&#x27;;
- import { getLocale, setLocale, formatMessage } from &#x27;umi-plugin-react/locale&#x27;;
+ import {
+   Link,
+   connect,
+   getLocale,
+   setLocale,
+   formatMessage,
+ } from &#x27;umi&#x27;;
" data-status="copy"></button><div class="token-line"><span class="token deleted-sign deleted">- import Link from &#x27;umi/link&#x27;;</span></div><div class="token-line"><span class="token deleted-sign deleted">- import { connect } from &#x27;dva&#x27;;</span></div><div class="token-line"><span class="token deleted-sign deleted">- import { getLocale, setLocale, formatMessage } from &#x27;umi-plugin-react/locale&#x27;;</span></div><div class="token-line"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+ import {</span></div><div class="token-line"><span class="token inserted-sign inserted">+   Link,</span></div><div class="token-line"><span class="token inserted-sign inserted">+   connect,</span></div><div class="token-line"><span class="token inserted-sign inserted">+   getLocale,</span></div><div class="token-line"><span class="token inserted-sign inserted">+   setLocale,</span></div><div class="token-line"><span class="token inserted-sign inserted">+   formatMessage,</span></div><div class="token-line"><span class="token inserted-sign inserted">+ } from &#x27;umi&#x27;;</span></div><div class="token-line"><span class="token inserted-sign inserted"></span></div></pre></div><p><strong>æ³¨æ„ï¼š</strong>ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ formatMessageï¼Œæ¨èå¤§å®¶ä½¿ç”¨ <a href="../plugins/plugin-locale.htm#useintl" tppabs="https://umijs.org/zh-CN/plugins/plugin-locale#useintl">useIntl</a> æˆ–è€… <a href="javascript:if(confirm('https://github.com/formatjs/react-intl/blob/master/docs/API.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/formatjs/react-intl/blob/master/docs/API.md#injectintl-hoc'" tppabs="https://github.com/formatjs/react-intl/blob/master/docs/API.md#injectintl-hoc" target="_blank">injectIntl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå¯ä»¥å®ç°åŒæ ·çš„åŠŸèƒ½ã€‚</p><p>è·¯ç”±è·³è½¬ä½¿ç”¨ <code>history</code>ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-diff"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="- import { router } from &#x27;umi&#x27;;
+ import { history } from &#x27;umi&#x27;;

- router.push()
+ history.push()
" data-status="copy"></button><div class="token-line"><span class="token deleted-sign deleted">- import { router } from &#x27;umi&#x27;;</span></div><div class="token-line"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+ import { history } from &#x27;umi&#x27;;</span></div><div class="token-line"><span class="token inserted-sign inserted"></span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token deleted-sign deleted">- router.push()</span></div><div class="token-line"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+ history.push()</span></div><div class="token-line"><span class="token inserted-sign inserted"></span></div></pre></div><p>ç¬¬ä¸‰æ­¥å®Œæˆåï¼Œæ‰§è¡Œä¸‹ <code>npm run start</code>ï¼Œè®¿é—® <a href="javascript:if(confirm('http://localhost:8000/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://localhost:8000/'" tppabs="http://localhost:8000/" target="_blank">http://localhost:8000<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œèƒ½è®¿é—®åˆ™è¡¨ç¤ºè¿ç§»å®Œæˆã€‚</p><p><img src="../../../gw.alipayobjects.com/zos/antfincdn/MysqNKCYyc/ae1d7e2a-3b6e-49d8-8c0a-c306840932f6.png" tppabs="https://gw.alipayobjects.com/zos/antfincdn/MysqNKCYyc/ae1d7e2a-3b6e-49d8-8c0a-c306840932f6.png"/></p><blockquote><p>æ›´å¤šè¿ç§»ç»†èŠ‚è§ <a href="javascript:if(confirm('https://github.com/ant-design/ant-design-pro/pull/6039  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/ant-design/ant-design-pro/pull/6039'" tppabs="https://github.com/ant-design/ant-design-pro/pull/6039" target="_blank">PR<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></blockquote></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" href="javascript:if(confirm('https://github.com/umijs/umi/edit/master/docs/guide/upgrade-antd-pro-to-umi-3.zh-CN.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umijs/umi/edit/master/docs/guide/upgrade-antd-pro-to-umi-3.zh-CN.md'" tppabs="https://github.com/umijs/umi/edit/master/docs/guide/upgrade-antd-pro-to-umi-3.zh-CN.md">åœ¨ GitHub ä¸Šç¼–è¾‘è¿™ç¯‡æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="æœ€åæ›´æ–°æ—¶é—´ï¼š">6/10/2020, 7:42:23 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "../../../www.google-analytics.com/analytics.js"/*tpa=https://www.google-analytics.com/analytics.js*/,
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="../../umi.js" tppabs="https://umijs.org/umi.js"></script>
  </body>
</html>
